{
  "board_title": "PWS Console - Production",
  "read_only": false,
  "board_bgtype": "board_graph",
  "height": 102,
  "width": "100%",
  "templated": false,
  "widgets": [
    {
      "title_size": 16,
      "title": true,
      "color": "#39c",
      "text": "PWS Console - Production",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 5,
      "width": 58,
      "y": 0.8333333333333334,
      "x": 0.75,
      "font_size": "56",
      "type": "free_text"
    },
    {
      "metric": "new_relic.errors.all.errors_per_minute",
      "height": 6,
      "query": "avg:new_relic.errors.all.errors_per_minute{application:webconsole_production}",
      "text_size": "auto",
      "unit": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 15,
      "timeframe": "10m",
      "type": "query_value",
      "tags": [
        "application:webconsole_production"
      ],
      "precision": 2,
      "title_text": "Console - Error Rate",
      "calc_func": "raw",
      "metric_type": "standard",
      "conditional_formats": [
        {
          "color": "white_on_red",
          "invert": false,
          "comparator": ">",
          "value": <%= threshold_value('avg:new_relic.errors.all.errors_per_minute{application:webconsole_production}', 'white_on_red') %>
        },
        {
          "color": "white_on_green",
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:new_relic.errors.all.errors_per_minute{application:webconsole_production}', 'white_on_green') %>
        }
      ],
      "aggr": "avg",
      "y": 7,
      "x": 20
    },
    {
      "metric": "new_relic.apdex.score",
      "height": 6,
      "query": "avg:new_relic.apdex.score{application:webconsole_production}",
      "text_size": "auto",
      "unit": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 14,
      "timeframe": "10m",
      "type": "query_value",
      "tags": [
        "application:webconsole_production"
      ],
      "precision": 2,
      "title_text": "Console Apdex",
      "calc_func": "raw",
      "metric_type": "standard",
      "conditional_formats": [
        {
          "color": "white_on_red",
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:new_relic.apdex.score{application:webconsole_production}', 'white_on_red') %>
        },
        {
          "color": "white_on_yellow",
          "invert": false,
          "comparator": "<=",
          "value": <%= threshold_value('avg:new_relic.apdex.score{application:webconsole_production}', 'white_on_yellow') %>
        },
        {
          "color": "white_on_green",
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:new_relic.apdex.score{application:webconsole_production}', 'white_on_green') %>
        }
      ],
      "aggr": "avg",
      "y": 7,
      "x": 36
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "PWS Console errors_per_minute",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "max:new_relic.errors.all.errors_per_minute{application:webconsole_production}"
          }
        ],
        "events": [

        ]
      },
      "width": 47,
      "timeframe": "1w",
      "y": 16,
      "x": 1,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "PWS Airbrake Events",
      "height": 18,
      "width": 53,
      "query": "*Airbrake*",
      "timeframe": "1d",
      "y": 47.916666666666664,
      "x": 52.916666666666664,
      "type": "event_stream",
      "event_size": "s"
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "PWS Instance Health - 4h",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "pws.instance_health{host:production} by {instance}",
            "type": "area"
          }
        ],
        "events": [

        ]
      },
      "width": 53,
      "timeframe": "4h",
      "y": 31.916666666666668,
      "x": 52.916666666666664,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "PWS RDS Connections - 1d",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "aws.rds.database_connections{dbinstanceidentifier:console}",
            "style": {
              "palette": "dog_classic"
            },
            "type": "area"
          }
        ],
        "events": [

        ]
      },
      "width": 53,
      "timeframe": "1d",
      "y": 15.833333333333334,
      "x": 52.75,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "metric": "aws.rds.database_connections",
      "height": 6.000000158945717,
      "query": "avg:aws.rds.database_connections{dbinstanceidentifier:console}",
      "text_size": "auto",
      "unit": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "center",
      "width": 11.916666666666666,
      "timeframe": "1h",
      "type": "query_value",
      "tags": [
        "dbinstanceidentifier:console"
      ],
      "precision": 0,
      "title_text": "RDS Connections  - 1h",
      "calc_func": "raw",
      "metric_type": "standard",
      "conditional_formats": [
        {
          "color": "green_on_white",
          "invert": false,
          "comparator": ">",
          "value": <%= threshold_value('avg:aws.rds.database_connections{dbinstanceidentifier:console}', 'green_on_white') %>
        }
      ],
      "aggr": "avg",
      "y": 6.916666666666667,
      "x": 52.916666666666664
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Instances",
      "height": 15.916666666666666,
      "tile_def": {
        "viz": "toplist",
        "requests": [
          {
            "q": "top(min:new_relic.application_summary.instance_count{application:webconsole_production} by {host}, 20, 'mean', 'desc')",
            "style": {
              "palette": "dog_classic"
            },
            "conditional_formats": [

            ]
          }
        ]
      },
      "width": 27.833333333333332,
      "timeframe": "1h",
      "y": 15.916666666666666,
      "x": 107.91666666666667,
      "legend_size": "0",
      "type": "toplist",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "PWS Instance Response Time - 1h",
      "height": 16,
      "tile_def": {
        "viz": "toplist",
        "requests": [
          {
            "q": "top(avg:new_relic.application_summary.response_time{application:webconsole_production} by {host}, 20, 'mean', 'desc')",
            "style": {
              "palette": "dog_classic"
            },
            "conditional_formats": [

            ]
          }
        ]
      },
      "width": 52.916666666666664,
      "timeframe": "1h",
      "y": 68.91666666666667,
      "x": 52.916666666666664,
      "legend_size": "0",
      "type": "toplist",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "PWS Critical & Non-Critical Job Queue Length (lower is better)",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "max:pws.workers.critical.count{host:production}"
          },
          {
            "q": "max:pws.workers.non_critical.count{host:production}"
          }
        ],
        "events": [

        ]
      },
      "width": 47,
      "timeframe": "1d",
      "y": 32,
      "x": 1,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "PWS Critical & Non-Critical Failed Jobs (lower is better)",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "max:pws.workers.critical.failed.count{host:production}"
          },
          {
            "q": "max:pws.workers.non_critical.failed.count{host:production}"
          }
        ],
        "events": [

        ]
      },
      "width": 47,
      "timeframe": "1d",
      "y": 48,
      "x": 1,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "max:pws.account_total{host:production}"
          }
        ],
        "events": [

        ]
      },
      "width": 29,
      "timeframe": "1w",
      "y": 35,
      "x": 108,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "metric": "new_relic.http_dispatcher.calls_per_minute",
      "height": 6,
      "query": "sum:new_relic.http_dispatcher.calls_per_minute{application:webconsole_production}",
      "text_size": "auto",
      "unit": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 12,
      "timeframe": "15m",
      "type": "query_value",
      "tags": [
        "application:webconsole_production"
      ],
      "precision": 0,
      "title_text": "Req Per Min",
      "calc_func": "raw",
      "metric_type": "standard",
      "conditional_formats": [
        {
          "color": "red_on_white",
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('sum:new_relic.http_dispatcher.calls_per_minute{application:webconsole_production}', 'red_on_white') %>
        },
        {
          "color": "green_on_white",
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('sum:new_relic.http_dispatcher.calls_per_minute{application:webconsole_production}', 'green_on_white') %>
        }
      ],
      "aggr": "sum",
      "y": 7,
      "x": 66
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "PWS New Relic",
      "height": 35,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "new_relic.web_frontend.queue_time.average_response_time{application:webconsole_production}",
            "style": {
              "palette": "cool"
            },
            "type": "area"
          },
          {
            "q": "new_relic.middleware.all.average_response_time{application:webconsole_production}",
            "style": {
              "palette": "orange"
            },
            "type": "area"
          },
          {
            "q": "new_relic.active_record.all.average_response_time{application:webconsole_production}",
            "style": {
              "palette": "cool"
            },
            "type": "area"
          },
          {
            "q": "new_relic.external.all_web.average_response_time{application:webconsole_production}",
            "type": "area"
          }
        ],
        "events": [

        ]
      },
      "width": 51,
      "timeframe": "1h",
      "y": 64,
      "x": 1,
      "legend_size": "0",
      "type": "timeseries",
      "legend": true
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "UAA User Total",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "max:pws.uaa_user_total{host:production}",
            "aggregator": "avg",
            "conditional_formats": [

            ],
            "type": "line"
          },
          {
            "q": "max:pws.uaa_user_total{host:smoketest}",
            "type": "line"
          }
        ]
      },
      "width": 30,
      "timeframe": "2d",
      "y": 51,
      "x": 108,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "CC Org Total",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "max:pws.cc_org_total{host:production}",
            "conditional_formats": [

            ],
            "type": "line"
          },
          {
            "q": "max:pws.cc_org_total{host:smoketest}",
            "type": "line"
          }
        ]
      },
      "width": 30,
      "timeframe": "2d",
      "y": 67,
      "x": 108,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Smoketest Critical & Non-Critical Failed Jobs",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "max:pws.workers.critical.failed.count{host:smoketest}",
            "aggregator": "avg",
            "conditional_formats": [

            ],
            "type": "line"
          },
          {
            "q": "max:pws.workers.non_critical.failed.count{host:smoketest}",
            "type": "line"
          }
        ]
      },
      "width": 30,
      "timeframe": "1d",
      "y": 83,
      "x": 108,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    }
  ],
  "id": 15708
}
